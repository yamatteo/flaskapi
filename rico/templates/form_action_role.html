
<p>In cosa investirai quest'anno? Scelgi il ruolo che ricoprirai.</p>
<form method="post" onsubmit="event.preventDefault();ajax_submit(event);">
  <div class="mb-3">
    <select class="form-select" id="role" name="role" required>
      <option value="">Scegli un ruolo</option>
      {% for role, data in board.roles.items() %}
      {% if data.available %}
      <option value="{{ role }}">
        {{ role|translate }} ({{ role|briefly_explain }}{% if data.money %} +{{ data.money }} DB{% endif %})
      </option>
      {% endif %}
      {% endfor %}
    </select>
  </div>
  <input type="hidden" name="name" value="{{ user.pseudo }}" />
  <input type="hidden" name="type" value="role" />
  <button type="submit" class="btn btn-lg btn-primary w-100">Assumi l'incarico</button>
</form>
{# <script>
  const roleSelect = document.getElementById('role');
  const roleExplanation = document.getElementById('role-explanation');

  function updateRoleExplanation() {
    const selectedRole = roleSelect.value;

    if (selectedRole === "skip") {
      ;
    } {% for role in board.roles %}
    else if (selectedRole === '{{role}}') {
      explanation = `{{ explanation[role] }}`;
      roleExplanation.classList.add("d-block");
      roleExplanation.classList.remove("d-none");
    } {% endfor %} else {
      explanation = '';
      roleExplanation.classList.remove("d-block");
      roleExplanation.classList.add("d-none");
    }

    roleExplanation.innerHTML = explanation;
  }

  roleSelect.addEventListener('change', updateRoleExplanation);
  updateRoleExplanation(); // Update explanation on initial load
</script> #}